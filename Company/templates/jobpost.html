{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>Job Post</title>
    <link rel="stylesheet" href="static/css/index.css"/>
    <link rel="stylesheet" href="static/css/jobpost.css"/>
	<style>
		.image-container {
			width: 40%;
			height: 100%;
			background-image: url("./static/images/job post.jpg");
			background-repeat: no-repeat;
			background-size: cover;
			border-top-left-radius: 10px;
			border-bottom-left-radius: 10px;
		}
</style>
</head>
<body>
	<nav class="navbar">
        <div class="logo">LOGO</div>
        <nav class="navbar">
			<div class="logo">LOGO</div>
			<ul class="nav-list-container">
				<li class="list"><a href="{% url 'companyhomepage' %}" class="link">Home</a></li>
				<li class="list"><a href="#about-us" class="link">About</a></li>
				<li class="list"><a href="#contact" class="link">Contact</a></li>
				<li class="list"><a href="{% url 'job_post' %}" class="link">Job Post</a></li>
				<li class="list"><a href="{% url 'joblist' %}" class="link">Job list</a></li>
				<li class="list"><a href="{% url 'showbloger_company'%}" class="link">Blog</a></li>               
				<li class="list"><a href="{% url 'showcompanyprofile' %}" class="link">Profile</a></li>
				<li class="list"><a href="logout" class="link">logout</a></li>
			</ul>
		</nav>
    </nav>
	<div class="container">
		<div class="card">
			<div class="image-container"></div>
			<div class="form-container">
				<h2>Add Job</h2>
				<form id="registration-form" method="post" action="jobpost_data" enctype="multipart/form-data">
                    {% csrf_token %}	
                    
					<div class="field-group">
						<div class="field">
						<label for="salary">Job</label>
						<input type="text" id="job_title" name="job_title" required>
						<span class="error"></span>
						</div>
						<div class="field">
							<label for="salary">Salary</label>
							<input type="number" id="salary" name="salary" required>
							<span class="error"></span>
							</div>
					</div>
					<div class="field-group">
						
						<div class="field">
							<label for="post_date">Education level</label>
							<input type="text" placeholder="B.sc /M.sc" name="education_level"  id="phone" required>
						
							<span class="error"></span>
						</div> 
						
							<div class="field">
									<label for="experience_required">Experience Required</label>
									<input type="number" id="experience_required" name="experience_required" placeholder="in year" required>
									<span class="error"></span>
							</div>
		
					</div>
					<div class="field-group">
					<div class="field">
					<label for="post_date">Skill required</label>
					<input type="text" id="Skill_required" name="skill_required" placeholder="required Skill" required>
						
					</div>
					
				<div class="field">
				<label for="post_date">last date</label>
				<input type="date" id="last_date" name="last_date" required> 
				<span class="error"></span>
				</div>
				</div>
					
				<div class="field-group">
				<div class="field">
				<label for="logo">image</label>
				<input type="file" id="logo" name="image" required>
				<span class="error"></span>
				</div>
				<div class="field">
					<div class="field">
						<label for="skill_required">Job Type</label>
						<select id="skill_required"  name="jobtype" required>
						<option value="">Select a jobtype</option>
						<option value="programming">Full-Time</option>
						<option value="design">Part-Time</option>
						</select>
						<span class="error"></span>
					</div>
					<span class="error"></span>
					</div>

				</div>
				<div class="field">
				<label for="job_description">Job Description</label>
				<textarea id="job_description" name="job_description" required></textarea>
				<span class="error"></span>
				</div>

				<input type="submit" value="submit">
				</div>
				</form>
				</div>
				</div>
				</div>

				<script>
	// form validation
	document.getElementById("registration-form").addEventListener("submit", function(event) {
		var jobTitle = document.getElementById("job_title");
		var companyLocation = document.getElementById("company_location");
		var salary = document.getElementById("salary");
		var experienceRequired = document.getElementById("experience_required");
		var skillRequired = document.getElementById("skill_required");
		var postDate = document.getElementById("post_date");
		var lastDate = document.getElementById("last_date");
		var logo = document.getElementById("logo");
		var jobDescription = document.getElementById("job_description");
		var termsAndConditions = document.getElementById("terms_and_conditions");

		var isValid = true;

		if (jobTitle.value.trim() === "") {
			setFieldError(jobTitle, "Please enter a job title");
			isValid = false;
		} else {
			clearFieldError(jobTitle);
		}

		if (companyLocation.value.trim() === "") {
			setFieldError(companyLocation, "Please enter a company location");
isValid = false;
} else {
clearFieldError(companyLocation);
}
		if (salary.value.trim() === "") {
			setFieldError(salary, "Please enter a salary");
			isValid = false;
		} else if (salary.value < 0) {
			setFieldError(salary, "Please enter a positive salary value");
			isValid = false;
		} else {
			clearFieldError(salary);
		}

		if (experienceRequired.value.trim() === "") {
			setFieldError(experienceRequired, "Please enter the required experience in years");
			isValid = false;
		} else if (experienceRequired.value < 0) {
			setFieldError(experienceRequired, "Please enter a positive value for experience required");
			isValid = false;
		} else {
			clearFieldError(experienceRequired);
		}

		if (skillRequired.value === "") {
			setFieldError(skillRequired, "Please select a required skill");
			isValid = false;
		} else {
			clearFieldError(skillRequired);
		}

		if (postDate.value === "") {
			setFieldError(postDate, "Please select a post date");
			isValid = false;
		} else {
			clearFieldError(postDate);
		}

		if (lastDate.value === "") {
			setFieldError(lastDate, "Please select a last date to apply");
			isValid = false;
		} else if (lastDate.value < postDate.value) {
			setFieldError(lastDate, "Last date to apply should be after the post date");
			isValid = false;
		} else {
			clearFieldError(lastDate);
		}

		if (logo.value === "") {
			setFieldError(logo, "Please select a company logo");
			isValid = false;
		} else {
			clearFieldError(logo);
		}

		if (jobDescription.value.trim() === "") {
			setFieldError(jobDescription, "Please enter a job description");
			isValid = false;
		} else {
			clearFieldError(jobDescription);
		}

		if (!termsAndConditions.checked) {
			setFieldError(termsAndConditions, "Please agree to the terms and conditions");
			isValid = false;
		} else {
			clearFieldError(termsAndConditions);
		}

		if (!isValid) {
			event.preventDefault();
		}
	});

	// set the error message for a field
	function setFieldError(field, message) {
		field.nextElementSibling.textContent = message;
		field.classList.add("invalid");
	}

	// clear the error message for a field
	function clearFieldError(field) {
		field.nextElementSibling.textContent = "";
		field.classList.remove("invalid");
	}
</script>
</body>
</html>




